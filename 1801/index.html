<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Trumbowyg by Alex-D</title>
    <base href="/1801/vendors/">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            background-color: #f4f7fa;
            font-family: "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
        }

        header {
            text-align: center;
        }

        .container {
            max-width: 640px;
            margin: 0 auto;
        }

        .dark-section {
            background: #111;
            color: #ddd;
            margin-top: 50px;
            padding: 50px 0 100px;
        }

        .dark-section .title {
            font-weight: normal;
            text-align: center;
            font-size: 32px;
            margin: 20px 0 50px;
        }

        .form-submit {
            background: transparent;
            border: 1px solid #555;
            color: #ccc;
            padding: 7px 13px;
            margin-right: 17px;
            float: right;
        }

        h2 {
            font-size: 26px;
        }

        h1+pre,
        h2+pre,
        h3+pre,
        h4+pre {
            margin-top: -20px;
        }
    </style>
    <link rel="stylesheet" href="./dist/ui/trumbowyg.css">
    <link rel="stylesheet" href="./dist/plugins/colors/ui/trumbowyg.colors.css">
</head>

<body>
    <div class="container">


        <div id="simple-editor">
            <h2>This is a minimalist demo of Trumbowyg.</h2>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, aliquam, minima fugiat placeat provident optio nam reiciendis
                eius beatae quibusdam!
            </p>
        </div>
        <button>Update</button>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
        crossorigin="anonymous"></script>
    <script src="./dist/trumbowyg.js"></script>
    <script src="./dist/langs/fr.min.js"></script>
    <script src="./dist/plugins/base64/trumbowyg.base64.js"></script>
    <script src="./dist/plugins/colors/trumbowyg.colors.js"></script>
    <script src="./dist/plugins/noembed/trumbowyg.noembed.js"></script>
    <script src="./dist/plugins/pasteimage/trumbowyg.pasteimage.js"></script>
    <script src="./dist/plugins/preformatted/trumbowyg.preformatted.js"></script>
    <script src="./dist/plugins/upload/trumbowyg.upload.js"></script>
    <script src="./dist/plugins/history/trumbowyg.history.js"></script>
    <script>
        $(document).on('keydown', function (e) {
            if (e.which === 27) {
                console.log('ESCAPE');
            }
        });


        /** Default editor configuration **/
        $('#default-editor, #empty-textarea, #disabled-textarea')
            .trumbowyg()
            .on('dblclick', function () {
                $(this).trumbowyg();
            })
            .on('tbwinit tbwfocus tbwblur tbwchange tbwresize tbwpaste tbwopenfullscreen tbwclosefullscreen tbwclose',
                function (e) {
                    console.log(e.type);
                });

        $('#enable-disabled-textarea').click(function () {
            $('#disabled-textarea').trumbowyg('enable');
        });
        $('#disable-disabled-textarea').click(function () {
            $('#disabled-textarea').trumbowyg('disable');
        });


        /** Default editor configuration **/
        $('#simple-editor')
            .trumbowyg({
                btns: [

                    ['strong', 'em', 'del','superscript', 'subscript'],
                    ['backColor', 'foreColor','removeformat'],
                    ['formatting'],
                    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
                    ['unorderedList', 'orderedList'],
                    ['horizontalRule'],
                    ['createLink', 'unlink'],
                    ['upload', 'base64', 'noembed'],
                    ['historyUndo', 'historyRedo'],
                    ['viewHTML','fullscreen', 'close']
                ]
            })
            .on('dblclick', function () {
                $(this).trumbowyg();
            });


        /* Add imagur parameters to upload plugin */
        var uploadOptions = {
            serverPath: 'https://api.imgur.com/3/image',
            fileFieldName: 'image',
            headers: {
                'Authorization': 'Client-ID 9e57cb1c4791cea'
            },
            urlPropertyName: 'data.link',
            imageWidthModalEdit: true
        };

        /** Full flat button pane **/
        $('#flat-buttonpane')
            .trumbowyg({
                btns: [
                    ['viewHTML'],
                    ['p', 'blockquote', 'h1', 'h2', 'h3', 'h4'],
                    ['strong', 'em', 'underline', 'del'],
                    ['superscript', 'subscript'],
                    ['createLink', 'unlink'],
                    ['insertImage'],
                    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
                    ['unorderedList', 'orderedList'],
                    ['horizontalRule'],
                    ['removeformat'],

                    ['upload', 'base64', 'noembed'],
                    ['ruby'],
                    ['foreColor', 'backColor'],
                    ['preformatted'],
                    ['template'],
                    ['fullscreen', 'close']
                ],
                plugins: {
                    upload: uploadOptions,
                    templates: [{
                            name: 'Template 1',
                            html: '<p>I am a template!</p>'
                        },
                        {
                            name: 'Template 2',
                            html: '<p>I am a different template!</p>'
                        }
                    ]
                }
            });


        /********************************************************
         * Customized button pane + buttons groups + dropdowns
         * Use upload and base64 plugins
         *******************************************************/

        /* Add new words for customs btnsDef just below */
        $.extend(true, $.trumbowyg.langs, {
            fr: {
                align: 'Alignement',
                image: 'Image'
            }
        });
        var customizedButtonPaneTbwOptions = {
            lang: 'fr',
            fixedBtnPane: true,
            btnsGrps: {
                test: ['strong', 'em'] // Custom nammed group
            },
            btnsDef: {
                // Customizables dropdowns
                align: {
                    dropdown: ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
                    ico: 'justifyLeft'
                },
                image: {
                    dropdown: ['insertImage', 'upload', 'base64', 'noembed'],
                    ico: 'insertImage'
                }
            },
            btns: [
                ['viewHTML'],
                ['formatting'],
                ['align'],
                ['image'],
                ['foreColor', 'backColor'],
                ['preformatted'],
                ['fullscreen', 'close']
            ],
            plugins: {
                upload: uploadOptions
            }
        };
        $('#customized-buttonpane')
            .trumbowyg(customizedButtonPaneTbwOptions)
            .on('dblclick', function () {
                $(this).trumbowyg(customizedButtonPaneTbwOptions);
            });



        /** Simple customization with current options **/
        var formTbwOptions = {
            lang: 'fr',
            mobile: true,
            fixedBtnPane: true,
            fixedFullWidth: true,
            semantic: true,
            resetCss: true,
            removeformatPasted: true,
            tagsToRemove: ['script', 'style'],
            imageWidthModalEdit: true,

            autogrow: true,
            autogrowOnEnter: true,

            btnsDef: {
                strong: {
                    fn: 'bold',
                    key: 'G'
                }
            }
        };
        $('#form-content')
            .trumbowyg(formTbwOptions)
            .on('dblclick', function () {
                $(this).trumbowyg(formTbwOptions);
            });



        /** Dynamic Iframe **/

        // Create the iframe element.
        var $iframe = $('<iframe/>').css({
            width: '100%',
            height: 400,
            border: 0
        });
        $('#dynamic-iframe-example').append($iframe);
        // Get the document of the iframe.
        var $editor = $('<div>', {
            id: 'editor'
        }).html(
            '<h2>This is within an iframe</h2> <p>Soc' +
            'tempor pulvinar ac ultricies, placerat in, elementum,' +
            'adipiscing pid, mid augue pulvinar eros nisi! In magn' +
            'magnis. Porttitor platea turpis nisi. Pulvinar massa,' +
            ' habitasse <strong>a nunc rhoncus adipiscing</strong></p>');

        setTimeout(function () {
            var contextIframe = $iframe.contents()[0];
            // Set the style on the head of the iframe.
            $('head', contextIframe).append($('<link>', {
                href: './dist/ui/trumbowyg.css',
                rel: 'stylesheet'
            }));
            // Set the content to be editable.
            $('body', contextIframe).append($editor);

            $editor
                .trumbowyg()
                .on('dblclick', function () {
                    $(this).trumbowyg();
                });
        }, 500);


        /** Editor with placeholder **/
        $('#placeholder-editor')
            .trumbowyg({
                autogrowOnEnter: true,
            })
            .on('dblclick', function () {
                $(this).trumbowyg();
            })
            .on('tbwfocus', function () {
                console.log('focus event fired');
            })
            .on('tbwblur', function () {
                console.log('blur event fired');
            });
    </script>
</body>

</html>